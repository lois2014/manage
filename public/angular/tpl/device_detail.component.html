
<div class="container" *ngIf="dev">
    <div  [hidden]="submitted">
        <h1>{{ dev.name }}</h1>
        <form *ngIf="active" (ngSubmit)="onSubmit()" #device_detail="ngForm">
            <div class="form-group">
                <label for="code">编号</label>
                <input type="text" class="form-control" id="code"  placeholder="code" required
                       [(ngModel)] = "dev.code" name="code" #code="ngModel"
                       disabled>
                <div [hidden]="code.valid || code.pristine"
                     class="alert alert-danger">
                    code is required
                </div>
            </div>
            <div class="form-group">
                <label for="name">名称</label>
                <input type="text" class="form-control" id="name" placeholder="name" required
                       [(ngModel)] = "dev.name" name="name" #name="ngModel"
                >
                <div [hidden]="name.valid || name.pristine"
                     class="alert alert-danger">
                    Name is required
                </div>
            </div>
            <div class="form-group">
                <label for="version">型号</label>
                <input type="text" class="form-control" id="version"  placeholder="version" required
                       [(ngModel)] = "dev.version" name="version" #version="ngModel"
                >
                <div [hidden]="version.valid || version.pristine"
                     class="alert alert-danger">
                    version is required
                </div>
            </div>
            <div class="form-group">
                <label for="type_id">类型</label>
                <select class="form-control" id="type_id"
                        required
                        [(ngModel)]="dev.type_id" name="type_id"
                        #type_id="ngModel">
                    <option *ngFor="let p of dev.types" [value]="p.id" [selected]="p.id == dev.type_id">{{p.type_name}}</option>
                </select>
                <div [hidden]="type_id.valid || type_id.pristine" class="alert alert-danger">
                    type is required
                </div>
            </div>
            <div class="form-group">
                <label for="maker_id">供应商</label>
                <select class="form-control" id="maker_id"
                        required
                        [(ngModel)]="dev.maker_id" name="maker_id"
                        #maker_id="ngModel" >
                    <option *ngFor="let m of dev.makers" [value]="m.id" selected="m.id == dev.maker_id">{{m.name}}</option>
                </select>
                <div [hidden]="maker_id.valid || maker_id.pristine" class="alert alert-danger">
                    maker is required
                </div>
            </div>

            <div class="form-group">
                <label for="master">负责人</label>
                <input type="text" class="form-control" id="master"  placeholder="master" required
                       [(ngModel)] = "dev.master" name="master" #master="ngModel"
                >
                <div [hidden]="master.valid || master.pristine"
                     class="alert alert-danger">
                    master is required
                </div>
            </div>
            <div class="form-group">
                <label for="measure">单位</label>
                <input type="text" class="form-control" id="measure"  placeholder="measure" required
                       [(ngModel)] = "dev.measure" name="measure" #measure="ngModel"
                >
                <div [hidden]="measure.valid || measure.pristine"
                     class="alert alert-danger">
                    measure is required
                </div>
            </div>
            <button type="submit" class="btn btn-default" [disabled]="!device_detail.form.valid">保存</button>
            <button type="button" class="btn btn-default" (click)="goBack()">返回</button>
        </form>
    </div>
</div>